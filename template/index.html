{% extends "base.html" %}
{% block content %}
{% load static %}

<!-- <script>
  window.initializeCarouse = () => {
      $("#demo").carousel({
          interval: 1
      });
  }
</script> -->

<script>
  $(document).ready(function () {
    // Activate Carousel
    $("#myCarousel").carousel();

    // Enable Carousel Indicators
    $(".item1").click(function () {
      $("#myCarousel").carousel(0);
    });
    $(".item2").click(function () {
      $("#myCarousel").carousel(1);
    });
    $(".item3").click(function () {
      $("#myCarousel").carousel(2);
    });

    // Enable Carousel Controls
    $(".carousel-control-prev").click(function () {
      $("#myCarousel").carousel("prev");
    });
    $(".carousel-control-next").click(function () {
      $("#myCarousel").carousel("next");
    });
  });

  $(".card").hover(
    function () {
      $(this).addClass('shadow-lg').css('cursor', 'pointer');
    },
    function () {
      $(this).removeClass('shadow-lg');
    }
  );
</script>

<div id="demo" class="carousel slide" data-ride="carousel">

  <!-- Indicators -->
  <ul class="carousel-indicators">
    <li data-target="#demo" data-slide-to="0" class="active"></li>
    <li data-target="#demo" data-slide-to="1"></li>
    <li data-target="#demo" data-slide-to="2"></li>
  </ul>

  <!-- The slideshow -->
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{% static 'images/Vivanta.jpg' %}" alt="Los Angeles" width="100%" height="500">
    </div>
    <div class="carousel-item">
      <img src="{% static 'images/house.jpg' %}" alt="Chicago" width="100%" height="500">
    </div>
    <div class="carousel-item">
      <img src="{% static 'images/home.jpg' %}" alt="New York" width="100%" height="500">
    </div>
  </div>

  <!-- Left and right controls -->
  <a class="carousel-control-prev" href="#demo" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#demo" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>

</div>

<div class="container">
  <div class="row">
    <div class="col-md-3">
      <div class="card-1 shadow-lg p-3 mb-5 bg-white rounded">
        <div class="card-header">
          Categories
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <a class="nav-link text-dark" href="{% url 'buy' %}"> ALL</a></li>
          {% for category in categories %}
          <li class="list-group-item">
            <a class="nav-link text-dark" href="{% url 'buy' %}?category={{category.name}}">
              {{category.name}} </a>
          </li>
          {% endfor %}

          

        </ul>
      </div>
    </div>


    <div class="col-md-8 ">
      <div class="row">
        {% for photo in photos %}
        <div class="col-md-4">
          <div class="card shadow-sm p-3 mb-5 bg-white rounded">
            <img class="image-thumbail" src="{{photo.image.url}}" class="card-img-top" alt="Image Not Found"
              style="height:200px; object-fit:cover">
            <div class="card-body">
              <small> Category: {{photo.category.name}} </small>
              <h5 class="card-title">NRs {{photo.price}}</h5>
              <p class="card-text">{{photo.description}} </p>
            </div>
            <a href="{% url 'detail' photo.id %}" class="btn btn-outline-dark btn-sm m-1">View Detail</a>
          </div>
        </div>
        {% empty %}
        <h3>no photos..</h3>
        {% endfor %}
      </div>
    </div>
  </div>

  <script>

  </script>
  {% endblock content %}